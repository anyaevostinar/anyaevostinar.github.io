<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>HW6.1 - Assembly to C (Part 1) | Anya E. Vostinar</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="HW6.1 - Assembly to C (Part 1)" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The homepage of Prof. Anya E. Vostinar. I teach computer science and research the evolution of symbiosis using digital evolution and agent-based modeling. I wrote the Symbulation platform." />
<meta property="og:description" content="The homepage of Prof. Anya E. Vostinar. I teach computer science and research the evolution of symbiosis using digital evolution and agent-based modeling. I wrote the Symbulation platform." />
<link rel="canonical" href="http://localhost:4000/classes/208-s24/hw6-1" />
<meta property="og:url" content="http://localhost:4000/classes/208-s24/hw6-1" />
<meta property="og:site_name" content="Anya E. Vostinar" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="HW6.1 - Assembly to C (Part 1)" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"The homepage of Prof. Anya E. Vostinar. I teach computer science and research the evolution of symbiosis using digital evolution and agent-based modeling. I wrote the Symbulation platform.","headline":"HW6.1 - Assembly to C (Part 1)","url":"http://localhost:4000/classes/208-s24/hw6-1"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Anya E. Vostinar" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Anya E. Vostinar</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/Classes/">Classes</a><a class="page-link" href="/Research/">Research</a><a class="page-link" href="/blog/">Blog</a><a class="page-link" href="/About/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">HW6.1 - Assembly to C (Part 1)</h1>
  </header>

  <div class="post-content">
    <ul>
  <li>Package: <a href="/classes/208-s24/asm-to-c1-package.tar">asm-to-c1-package.tar</a></li>
  <li>Upload to Gradescope a set of files as specified below</li>
</ul>

<h2 id="goals">GOALS</h2>
<ul>
  <li>Get familiar with x86_64 assembly language basics</li>
  <li>Practice learning how C code constructs get translated into equivalent assembly language</li>
</ul>

<h2 id="logistics">Logistics</h2>
<p>This is a <strong>paired</strong> assignment, so you should work with your assigned partner, if you have one. If you chose not to be assigned a partner, you must work individually (you can’t pick your own partner!). As usual, you can get help as detailed in the <a href="collaboration">collaboration</a> document. You should submit only one assignment to Gradescope for your pair and add your partner to the submission. If for some reason you and your partner can’t make things work, you can split, but you have to let me know asap.</p>

<p>This assignment (i.e. part 1) is due Wednesday April 24th at 10pm. As with all assignments, you will have the opportunity to <strong>individually</strong> <a href="revision-process">revise</a> this submission based on feedback.</p>

<h2 id="assessment">Assessment</h2>
<p>To <strong>demonstrate proficiency</strong>, your submission needs to:</p>
<ul>
  <li>Pass the autograder tests (which are checking that your C produces the correct output)</li>
  <li>Have accurate descriptions for each puzzle</li>
</ul>

<p>To <strong>demonstrate mastery</strong>, your submission needs to:</p>
<ul>
  <li>Nearly perfectly recreate the provided assembly</li>
  <li>Have clear and concise descriptions for each puzzle</li>
</ul>

<h2 id="background">BACKGROUND</h2>
<p>What does a compiler do?</p>

<p>That question has a long, complicated answer. But in brief, our compiler (gcc) takes C sources as input, and produces an executable program as output. The executable program contains, among other things, <em>machine language instructions</em> whose behavior implements the computations articulated in the original C code.</p>

<p>Machine language is just bits, and is thus hard to read. So if we want to understand the correspondence between C code and its corresponding machine language, we’re better off asking gcc to output assembly language code instead. Assembly isn’t particularly easy to read either, but it’s a lot easier than machine language. And as a general rule, each assembly language instruction corresponds to exactly one machine language instruction, and vice versa. There are some exceptions (e.g., sometimes one assembly language instruction is an alias for a sequence of two or three machine language instructions), but as a rough guide, you can think of assembly and machine language instructions as being in one-to-one correspondence. As a result, by understanding the assembly language generated by gcc, we will be very close to understanding the machine language as well.</p>

<p>For this assignment, you are going to practice understanding the correspondence between simple C code and its equivalent assembly language by solving a sequence of puzzles. For each puzzle, you will read some given assembly language and try to come up with the original C code that generated it. This is a simple form of <a href="https://en.wikipedia.org/wiki/Reverse_engineering">reverse engineering</a>, and it’s pretty fun.</p>

<p>Though we could use gcc on mantis, for this assignment we’re instead going to use an extremely handy tool called the <a href="https://godbolt.org/">Compiler Explorer</a>. You’ll put some C code into the input panel, and the output panel will show you the assembly language generated by the selected compiler. As you adjust your C code, you’ll be able to watch the changes in the assembly language, and then compare your assembly code to the puzzle’s code.</p>

<h2 id="what-you-should-do">WHAT YOU SHOULD DO?</h2>
<p>In the <a href="/classes/208-s24/asm-to-c1-package.tar">asm-to-c1-package.tar</a> package, you will find several files named puzzle0.asm, puzzle1.asm, etc. For each puzzle, your job will go like this:</p>

<ul>
  <li>Study the <code class="language-plaintext highlighter-rouge">puzzleN.asm</code> code to understand what it does. You should try to understand it holistically rather than just line-by-line, so you’ll be able to describe the code’s purpose in a single short sentence.</li>
  <li>Write an equivalent C function (or sometimes two functions). Then use the <a href="https://godbolt.org/">Compiler Explorer</a> to compile it to assembly, and see how closely your assembly matches the contents of <code class="language-plaintext highlighter-rouge">puzzleN.asm</code>. Refine your code until you feel the match-up is close enough. Exact matches are great, of course, but close matches might also be correct. Very slight changes in source code can make changes in the assembly code, even if the code’s end result is unchanged.</li>
  <li>Write a one-sentence description of the purpose of the code for the current puzzle (e.g., you can imagine a description like “this function takes one positive integer parameter n and returns the nth prime number”).</li>
  <li>Put your code in a file named <code class="language-plaintext highlighter-rouge">puzzleN.c</code>, and put your name(s) and one-sentence description in the file header at the top of <code class="language-plaintext highlighter-rouge">puzzleN.c</code>.</li>
</ul>

<p>Hand it all into to Gradescope by uploading each of your <code class="language-plaintext highlighter-rouge">.c</code> files. Gradescope will run the files to see if they output the same values at the assembly and the human grader will check for how close your C code matches the original source and the quality of your descriptions.</p>

<h2 id="compiler-explorer-settings">COMPILER EXPLORER SETTINGS</h2>
<p>Set it up like this:</p>

<p><img src="/classes/208-s24/compiler-explorer-settings.png" alt="Screnshot of Compiler Explorer" /></p>

<p>HAVE FUN!</p>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Anya E. Vostinar</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Anya E. Vostinar</li><li><a class="u-email" href="mailto:vostinar@carleton.edu">vostinar@carleton.edu</a></li><li><a class="u-email" href="https://linktr.ee/vostinar">https://linktr.ee/vostinar</a></li>
            Note that this website uses Google Analytics to collect and analyze usage.
        </ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/anyaevostinar"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">anyaevostinar</span></a></li><li><a href="https://www.twitter.com/AnyaEVostinar"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">AnyaEVostinar</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>The homepage of Prof. Anya E. Vostinar. I teach computer science and research the evolution of  symbiosis using digital evolution and agent-based modeling. I wrote the Symbulation platform.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
